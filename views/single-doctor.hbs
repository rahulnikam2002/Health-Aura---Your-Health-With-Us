<link rel="stylesheet" href="/style/style.css">

<header class="SHP-header">
        <div class="headerContent-SHP">
            <ion-icon name="arrow-back-outline" class="goBack"></ion-icon>
            <p class="heading SHP-title">Doctor</p>
        </div>
    </header>
    {{#each singleDoctorInfo}}
    <section class="SDP-doc-info-img">
        <div class="SDP-doc-infoComponent">
            <div class="SDP-docName">
                <h1>Dr. {{this.doctorName}}</h1>
                <div class="SHP-docSpec">
                    <p>{{this.mainSpeciality}} - {{this.doctorCity}}</p>
                </div>
            </div>
            <div class="SDP-DocImg">
                <img src="/uploads/{{this.doctorImage}}" alt="{{this.doctorName}}">
            </div>
        </div>
    </section>

    <section class="doctor-specification">
        <div class="doc-spec-box doc-patients">
            <p>Patients</p>
            <h2>{{this.totalPatients}}</h2>
        </div>
        <div class="doc-spec-box doc-experience">
            <p>Experience</p>
            <h2>{{this.totalExperience}} <span class="doc-exp-span">Years</span></h2>
        </div>
        <div class="doc-spec-box doc-rating">
            <p>Rating</p>
            <h2>{{this.totalRating}}</h2>
        </div>
    </section>

    <section class="doc-biography">
        <h2>Biography</h2>
        <p>{{this.doctorBiography}}</p>
    </section>

    <section class="doc-Specialist">
        <h2>Specialist in</h2>
        <span class="hiddenSpecialities" style="display: none;">{{this.specialities}}</span>
        <div class="docSpeacItem">
        </div>
    </section>

    <section class="SDP-doc-add">
        <h2>Address</h2>
        <p>{{this.doctorAddress}}</p>
    </section>

    <section class="callDocBtn">
        <a href="tel:{{this.doctorNumber}}"><button>Make a Call</button></a>
    </section>
    {{/each}}

    <script src="/js/SDP.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script>
        let hiddenSpecialities = document.querySelector('.hiddenSpecialities');
        let docSpeacItem = document.querySelector('.docSpeacItem');
        const specialitiesArray = hiddenSpecialities.innerHTML.split(',');
        let html = '';
        for(let i = 0; i<specialitiesArray.length; i++){
            html += `<p>${specialitiesArray[i]}</p>`
        } 
        docSpeacItem.innerHTML = html;

    </script>